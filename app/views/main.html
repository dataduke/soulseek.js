<div class="interface">
  <div class="users">
    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12" ng-controller="PeersCtrl">
          <h2>Users</h2>
          <table class="table">
            <tbody>
              <tr ng-repeat="peer in peers">
                <td><a ng-click="showFileList()">{{peer}}</a></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
  <div class="chat" ng-controller="ChatCtrl">
    <div class="chat-holder">
      <div class="container-fluid chat-title">
        <div class="row-fluid">
          <div class="span12">
            <h2>Chat</h2>
          </div>
        </div>
      </div>
      <div class="container-fluid chat-content">
        <div class="row-fluid">
          <div class="span12">
            <table class="table">
              <tbody>
                <tr ng-repeat="msg in msgs">
                  <td>{{msg.user}}: {{msg.msg}}
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>

      <div class="container-fluid chat-bar">
        <div class="row-fluid">
          <div class="span12">
            <form ng-submit='sendMessage()'>
              <input type="text" class="span12" ng-model='message'>
              <input type='submit' value='Send'>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="player">
    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12">
          <h2>Player</h2>
          <span>â–¶</span>
        </div>
      </div>
    </div>
  </div>

  <div class="transfers" ng-controller="FiletransferCtrl">
    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12">
          <h2>Transfers</h2>
          <table class="table">
            <tbody>
              <tr ng-repeat="(fileName, value) in transfers">
                <td>
                  {{fileName}}
                  <div class="progress progress-striped active">
                    <div class="bar" ng-style="{width: value.sent/value.length*100+'%'}"></div>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="windows">
  <div class="file-browser" ng-controller="FileBrowserCtrl" ng-show="showFileBrowser">
    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span12">
          <h2>File browser</h2>
          <table class="table">
            <tbody>
              <tr ng-repeat="file in files">
                <td><a ng-click="stream()">s</a> <a ng-click="download()">d</a> {{file}}</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="overlay" ng-controller="LoginCtrl" ng-hide="initialized">
  <div class="message row-fluid">
    <h1><img src="/images/logo.png"> SoulWeb</h1>
    <form ng-submit="setUsername()" ng-hide="showFiles">
      <div class="username">
        <label for="username">What's your nickname?</label>
        <span class="input-append">
          <input type="text" id="username" ng-model="username" autofocus>
          <button type="submit" class="btn">Go!</button>
        </span>
      </div>
    </form>
    <form ng-show="showFiles">
      <div class="files">
        <label for="inputFiles">Files Please!</label>
        <input type="file" id="inputFiles" class="span12" accept="audio/*" multiple onchange="angular.element(this).scope().setFiles(this)">
      </div>
    </form>
  </div>
</div>
